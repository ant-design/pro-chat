---
title: å¿«é€Ÿå¼€å§‹
group:
  title: å¿«é€Ÿä¸Šæ‰‹
  order: 0
nav:
  title: æ–‡æ¡£
  order: 0
---

# å¿«é€Ÿå¼€å§‹

ProEditor å®šä½ä¸º Chat å¯¹è¯æ¨¡å¼ä¸‹ï¼Œç»™å‰ç«¯æä¾›å¿«é€Ÿæ­å»ºå¯¹è¯å†…å®¹çš„ç»„ä»¶åº“

## å®‰è£…

```bash
# @ant-design/pro-editor åŸºäº antd å’Œ antd-styleï¼Œéœ€è¦åœ¨é¡¹ç›®ä¸­å®‰è£…
$ npm install antd antd-style -S
$ npm install @ant-design/pro-chat -S
```

å› ä¸ºåº•å±‚ä¾èµ–äº antd ï¼Œå› æ­¤å¯¹ç‰ˆæœ¬æœ‰æ‰€è¦æ±‚

```json
"peerDependencies": {
  "antd": "^5",
  "antd-style": "^3",
  "react": "^18"
},
```

### ä½¿ç”¨ ProChat ç»„ä»¶

ProChat æä¾›çš„æœ€å…³é”®çš„ç»„ä»¶å°±æ˜¯ ProChat ç»„ä»¶ï¼Œä½ å¯ä»¥ä½ å¯ä»¥éå¸¸ç®€å•çš„ä½¿ç”¨å®ƒã€‚

<code src="./demos/base.tsx" ></code>

### è®¾è®¡æ€è·¯

#### ä¸€ä¸ª Request ä¸ºæ ¸å¿ƒ

ä½¿ç”¨è¿‡ [ProComponets](https://github.com/ant-design/pro-components) `ProTable` çš„åŒå­¦éƒ½çŸ¥é“ï¼Œåœ¨ `ProTable` ä¸­æœ€æ ¸å¿ƒçš„ `api` å°±æ˜¯ `Request`ï¼Œå‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶è¿”å›æ•°æ®æ¸²æŸ“æ•´ä¸ª `Table`ï¼Œä½ åœ¨ `ProTable` ä¸­æŠŠ Request å†™ä¸Šå°±ç›¸å½“äºåšå®Œäº†ä¸€åŠçš„è¡¨æ ¼ã€‚

åœ¨ `ProChat` ä¸­ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚åœ¨å¤§æ¨¡å‹åœºæ™¯ä¸‹ï¼Œå¯¹äºä¸€ä¸ªå‰ç«¯å¼€å‘è€…æ¥è¯´ï¼Œæˆ‘ä»¬åªä¼šåœ¨ä¹ã€Œæ¨¡å‹è¿”å›ç»™æˆ‘çš„æ˜¯ä»€ä¹ˆã€æˆ‘ä»¬å¯ä¸æƒ³å¤„ç†é‚£ä¹ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„æ•°æ®ç»“æ„

```json
{
  "status_code": 200,
  "request_id": "05dc83af-7185-9e14-9b0b-4466de159d6a",
  "code": "",
  "message": "",
  "output": {
    "text": null,
    "finish_reason": null,
    "choices": [
      {
        "finish_reason": "stop",
        "message": {
          "role": "assistant",
          "content": "é¦–å…ˆï¼Œå‡†å¤‡ä¸¤ä¸ªé¸¡è›‹ï¼Œä¸€ä¸ªè¥¿çº¢æŸ¿ï¼Œé€‚é‡çš„ç›ã€ç³–ã€æ–™é…’å’Œç”ŸæŠ½ã€‚å°†é¸¡è›‹æ‰“å…¥ç¢—ä¸­ï¼Œæ…æ‹Œå‡åŒ€ï¼Œè¥¿çº¢æŸ¿åˆ‡å—ã€‚é”…ä¸­åŠ æ²¹ï¼Œæ²¹çƒ­ååŠ å…¥é¸¡è›‹æ¶²ï¼Œç‚’è‡³é‡‘é»„è‰²ï¼Œç››å‡ºå¤‡ç”¨ã€‚é”…ä¸­åŠ æ²¹ï¼Œæ²¹çƒ­ååŠ å…¥è¥¿çº¢æŸ¿å—ï¼Œç¿»ç‚’å‡åŒ€ï¼ŒåŠ å…¥é€‚é‡çš„ç›ã€ç³–ã€æ–™é…’å’Œç”ŸæŠ½ï¼Œç‚’è‡³è¥¿çº¢æŸ¿è½¯çƒ‚ï¼ŒåŠ å…¥ç‚’å¥½çš„é¸¡è›‹ï¼Œç¿»ç‚’å‡åŒ€å³å¯ã€‚"
        }
      }
    ]
  },
  "usage": {
    "input_tokens": 12,
    "output_tokens": 98,
    "total_tokens": 110
  }
}
```

å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œå¯¹äºæœ‰ç±»ä¼¼å¯¹è¯ç±»éœ€æ±‚çš„ä¸šåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬åº”è¯¥åªåœ¨ä¹è¿™ä¸€å¥è¿”å›çš„è¯ã€‚ï¼ˆç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼‰

å› æ­¤ Request æˆ‘ä»¬è®¾è®¡ä¸ºè¿”å›æœ‰ä¸”åªæ˜¯ä¸€ä¸ª String

> åœ¨æµå¼å’Œéæµå¼æˆ‘ä»¬éƒ½åªå…³å¿ƒ Stringï¼Œä½†æ˜¯å¯¹äºå¤„ç†æ‰‹æ³•ä¸å¤ªä¸€æ ·ï¼Œè¯¦æƒ…å¯è§ç»„ä»¶æ¡ˆä¾‹

é‚£ä¹ˆå…¥å‚å‘¢ï¼Ÿ

è¿™æ˜¯é€šä¹‰åƒé—®çš„å¤§æ¨¡å‹å…¥å‚ï¼Œå¯ä»¥çœ‹åˆ°å‚æ•°éå¸¸å¤šï¼Œè€Œä¸”ä¸åŒçš„æ¨¡å‹å…¥å‚æ˜¯ä¸å¤ªä¸€æ ·çš„ï¼Œåšç»„ä»¶çš„æ—¶å€™æ˜¯è¦è€ƒè™‘åˆ°å¹³å¾ˆæ€§çš„ã€‚ç»è¿‡æƒè¡¡ï¼Œæˆ‘ä»¬æœ€ç»ˆå°†å…¥å‚æ•°çš„ç»“æ„è®¾è®¡ä¸ºå¦‚ä¸‹çš„ç»“æ„ï¼ˆæ„Ÿå…´è¶£çš„å¯ä»¥ç‚¹å¼€æŸ¥çœ‹ï¼‰

```js
const Message = {
  "content": "ä½ æ˜¯è°",
  "createAt": 1702627794204,
  "id": "TO5HsnCz",
  "meta": {
    "avatar": "ğŸ˜€",
    "title": undefined
  },
  "parentId": undefined,
  "role": "user",
  "updateAt": 1702627794204
}

type Message = {
  content: string;
  createAt: number;
  id: string;
  meta?: { avatar: string; title?: undefined };
  parentId?: undefined;
  role: 'user';
  updateAt: number;
}
```

#### å¤šç§æ¸²æŸ“æ”¯æŒ

è¿˜æœ‰ä¸€ç‚¹å¯¹å‰ç«¯æ¥è¯´æ¯”è¾ƒå¤´ç–¼çš„åœ¨äºã€Œè§£æ - æ¸²æŸ“ã€

åƒæ˜¯ä¸‹é¢è¿™ç§ï¼Œå¦‚æœä½ è‡ªå·±å†™ï¼Œä½ éœ€è¦å¯¹ String éƒ¨åˆ†çš„å†…å®¹è§£æï¼Œç„¶åå†³å®šå“ªäº›ç”¨ä»€ä¹ˆæ¸²æŸ“ï¼Œæˆ‘ä»¬å·²ç»å¸®ä½ å†…ç½®å¥½äº†ä¸€äº›æ¸²æŸ“å™¨ï¼šMarkdown æ¸²æŸ“ã€ç»ˆç«¯å‘½ä»¤æ‹¼æ¥ã€è·³è½¬é“¾æ¥ç­‰ç­‰å¸¸ç”¨çš„æ¸²æŸ“å™¨

<code src="./demos/doc-mode.tsx" ></code>

#### å¿«é€Ÿç¼–è¾‘ã€é‡è¯•ã€æ›´å¤šèƒ½åŠ›

å¦‚æœé—®é”™äº†é—®é¢˜ï¼Ÿæˆ‘æƒ³ä»æŸä¸ªåœ°æ–¹å¼€å§‹ï¼Œä¿®æ”¹æˆ‘ä¹‹å‰çš„é—®é¢˜å‘¢ï¼Ÿæˆ–è€…æˆ‘è§‰å¾—ä»–å›å¤çš„ä¸å¤ªå¥½ï¼Œåç»­çš„é—®é¢˜æˆ‘å¸Œæœ›å¸®ä»–ä¿®æ”¹ä¸€ä¸‹ä»–çš„å›ç­”ï¼Ÿ

æˆ‘ä»¬æ”¯æŒå¿«é€Ÿç¼–è¾‘ã€åˆ é™¤ã€é‡æ–°ç”Ÿæˆè¿™äº›èƒ½åŠ›ï¼Œè¿™äº›éƒ½æ˜¯é›†æˆåœ¨ `ProChat` è¿™ä¸ªç»„ä»¶ä¸­ï¼Œå¼€å‘è€…å®Œå…¨ä¸éœ€è¦æœ‰å¿ƒæ™ºè´Ÿæ‹…å¦‚ä½•å»å®ç°è¿™äº›èƒ½åŠ›ï¼Œå› ä¸ºæˆ‘ä»¬æŠŠè¿™å¥—æ•°æ®æµç»™ä½ ç»´æŠ¤å¥½å•¦ï¼

### ğŸš§ ä½¿ç”¨åŸå­åŒ–èƒ½åŠ›

> Working in Progress å½“å‰è¯¥éƒ¨åˆ†èƒ½åŠ›ä»å¤„äºé«˜é€Ÿå¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ã€‚

ProChat åç»­ä¼šæä¾›ä¸€ç³»åˆ—åŸå­åŒ–çš„ç»„ä»¶ï¼Œåœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä½ å¯èƒ½ä¼šæƒ³è¦ä½¿ç”¨æŸäº› ProChat ä¸­çš„ç‹¬ç«‹ç»„ä»¶ï¼Œè¿™äº›éœ€æ±‚æˆ‘ä»¬ä¹Ÿä¼šæä¾›ç±»ä¼¼çš„ç»„ä»¶æ¥å¸®åŠ©å¤§å®¶æ›´å¥½çš„æ­å»ºåº”ç”¨ã€‚

æœ‰éƒ¨åˆ†çš„åº•å±‚ç»„ä»¶ï¼Œä¾‹å¦‚ Markdownã€Highlight ä¹‹ç±»çš„ï¼Œæˆ‘ä»¬ä¼šä¾èµ–äº [ProEditor - ç¼–è¾‘å™¨ UI ç»„ä»¶åº“](https://github.com/ant-design/pro-editor)ï¼Œå› æ­¤å¦‚æœä½ ä¹Ÿæœ‰æ­å»ºç¼–è¾‘å™¨çš„åœºæ™¯ï¼Œå¯ä»¥æ¥è¿™é‡Œçœ‹çœ‹ã€‚

## ä¸æ¡†æ¶é›†æˆ

### ä¸ Umi é›†æˆ

åœ¨ä¸­åå°çš„ç ”å‘åœºæ™¯ï¼Œ umi æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„é€‰æ‹©ã€‚ProEditor ä¸ umi çš„é›†æˆéå¸¸å®¹æ˜“ã€‚å®‰è£…åç›´æ¥ä½¿ç”¨å³å¯ã€‚

### ä¸ Next.js é›†æˆ

[Next.js](https://nextjs.org/) æ˜¯ç¤¾åŒºä¸­éå¸¸æµè¡Œçš„ç ”å‘æ¡†æ¶ã€‚ProChat ä¸ Next.js çš„é›†æˆä¹Ÿéå¸¸å®¹æ˜“ã€‚

ç”±äº Next.js æ˜¯ä¸€ä¸ª CSRã€SSR åŒæ„çš„ React æ¡†æ¶ï¼Œè€Œ ProChat é»˜è®¤åªæä¾› esm æ¨¡å—ï¼Œå› æ­¤åœ¨å®‰è£…åï¼Œéœ€è¦åœ¨ `next.config.(m)js` ä¸­ `transpilePackages` ä¸­åŠ å…¥ç›¸å…³ä¾èµ–ï¼š

> è¿™é‡Œéœ€è¦è½¬æ¢çš„å†…å®¹é™¤äº† ProChat å¤–ï¼Œå¦å¤–å‡ ä¸ªæ˜¯åº•å±‚çš„ @ant-design/pro-editor ä»¥åŠé…å¥—çš„ä¾èµ–å†…å®¹ï¼Œåç»­æˆ‘ä»¬ä¼šå°è¯•ä¼˜åŒ–è®©ä½ å¯ä»¥å°‘é…ç½®ä¸€äº›ã€‚

```js
/** @type {import('next').NextConfig} */
const nextConfig = {
  // å°†çº¯ esm æ¨¡å—è½¬ä¸º node å…¼å®¹æ¨¡å—
  transpilePackages: [
    '@ant-design/pro-chat',
    'react-intersection-observer',
    '@ant-design/pro-editor',
  ],
};
```

æ¥ä¸‹æ¥å’Œå…¶ä»–ç»„ä»¶ä¸€æ ·ä½¿ç”¨å³å¯ã€‚

## å·¥ç¨‹åŒ–èƒ½åŠ›

### æŒ‰éœ€åŠ è½½

ProChat é»˜è®¤æ”¯æŒåŸºäº ES modules çš„ tree shakingï¼Œç›´æ¥å¼•å…¥ `import { ProChat } from '@ant-design/pro-chat`; å°±ä¼šæœ‰æŒ‰éœ€åŠ è½½çš„æ•ˆæœã€‚

### TypeScript

ProChat ä½¿ç”¨ TypeScript è¿›è¡Œå¼€å‘ï¼Œå› æ­¤æä¾›äº†å®Œæ•´çš„ç±»å‹å®šä¹‰ã€‚
